# Name of project: Trading-Bot-with-Henry. Video Demo: https://drive.google.com/file/d/1NYcmoBKtzXC5UfD0RwxVsMjMmOB9b9Kh/view?usp=sharing Presentation Video: https://drive.google.com/file/d/1xW3PiUDmLc6RuDsShp_6kv4dn_UiRfVU/view?usp=sharing Link to Presentation: https://docs.google.com/presentation/d/13qWY9EDPLFgjD8ndsClpv3ZlGlGhUyVjpqTHQ4lP34o/edit?usp=sharing Description: The first folder of the project is the data folder. In the data folder, I have two primary CSV files my program can use. By default, my program uses the NASDAQsmall CSV file, which has a list of companies in the U.S. NASDAQ with a market cap above 200 Billion. I have this smaller file for demonstration purposes since you can't see how the program fully works in a reasonable amount of time in the full-length CSV file. I downloaded both these files from nasdaq.com. The second file has every stock in the U.S. NASDAQ. These files are used in my bot.py file to create a list of all the ticker symbols of the stocks in the file. The other files in the data folder are older iterations and shouldn't be considered. (/new paragraph/) The next file that should be considered outside of the data folder is config.py. In config.py, I just have my API key and secret key, which I wanted to keep separate from the main bot.py file. (/new paragraph/) The last file that should be considered is the bot.py file. First, in bot.py, I import my config credentials and many other needed programs like JSON, time, alpaca API, and the trading view API. After importing all these needed programs, I initiate an infinite while loop with the condition 1 equals 1, which is always true. Looking back, I could have just probably put true here. This infinite while loop makes sure you never have to re-run the program and makes sure everything is automated. Next, in the while loop, I initiate the alpaca API to api. Next, I read lines from the CSV file and assign them to a variable called lines. Next, I iterate through the first column in each line which is the ticker and put the ticker in a list assigned to symbolinqqqm. Next, I use the Alpaca API to make the clock object, telling me if the market is open. Next, I make my buy order and sell order functions using the alpaca API that takes two parameters: the ticker, a string, and a quantity that is an integer. Next, I set printcount to zero, making sure the program only prints the change in my account value after the market is open and closes once per day. Next is the main part of the program, which starts with a while loop that checks if the market is open, and if it is, it runs a for loop. This for loop iterates through every ticker in symbolsinqqqm and constantly requests the clock object to update the time and sets printcount above zero, telling the program to print change in account value when the market is closed. Next, I get my account information and assign it to the account variable. Next, I use a try-except statement to get info on the asset from alpaca to plug into my TradingView API caller assigned to stock. If I get an error, the function will continue or break out of the for loop and while loop if market is closed. Next, I wrote another try-except statement with the same principle as the last one, except this one will check if analysts say a stock is a buy and buys the stock if this is true and I have cash above zero. Next, I have another try-except statement with the same principle as the buy one, except it checks if I own stock in my portfolio and also checks if analysts say the stock is a sell, and if both are true, it completely sells the stock out of my portfolio. After this, I re-requested my account info from alpaca and used this information in the print statement to print my percent change in equity value in my account for that day. This only happens when printcount is above zero, which only happens right after a market closes. After this, I run a time sleep function on the while loop that this is all in for exactly a minute, and then after this minute, it re-runs the while loop to see if the market is open and continues to execute the code I wrote. (/new paragraph/) BTW I did this on my own computer and not in the IDE, so I don't know if you can run it in the IDE, but I tried to download everything to it. If you want to see my other GitHub file with the code, here is the link: https://github.com/jackgrodnick/Trading-Bot-with-Henry.
